:root{
  --bg:#0b1420; --ink:#e9f1ff; --muted:#9bb3d1; --panel:#121b2a;
  --accent:#5aa9ff; --good:#65d36e; --danger:#ff6b6b;
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}
*{box-sizing:border-box}
html,body{
  margin:0; height:100%;
  background:var(--bg); color:var(--ink);
  font-family:system-ui,Segoe UI,Arial;
  overscroll-behavior:none; -webkit-user-select:none; user-select:none;
}

/* Top header (HUD) */
#topbar{
  position:fixed; top:0; left:0; right:0; z-index:10;
  padding: calc(8px + var(--safe-top)) 10px 8px 10px;
  display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap;
  background:linear-gradient(180deg, rgba(18,27,42,.96), rgba(18,27,42,.85));
  border-bottom:1px solid #1f2b40;
}
#topbar .stat{font-weight:800}
#topbar .ghost{
  background:transparent; border:1px solid #3a4f76; color:var(--ink);
  padding:8px 12px; border-radius:10px; font-weight:700; cursor:pointer;
}
#topbar .ghost:hover{ filter:brightness(1.08); }

/* Portrait canvas: JS sets exact CSS size to fill remaining height */
#game{
  display:block; margin:0 auto;
  background:#0e1624; outline:1px solid #1f2b40; border-bottom:2px solid #0a101a;
}

/* Quick buttons (bottom) */
#quick{
  position:fixed; left:0; right:0; bottom:calc(10px + var(--safe-bottom)); z-index:11;
  display:flex; justify-content:center; gap:10px; padding:0 10px;
}
#quick button{
  background:#7ec3ff; border:none; color:#061019; padding:12px 16px;
  border-radius:12px; font-weight:800; min-width:120px; cursor:pointer;
}
#quick #quickSell{ background:#ffd166; }

/* Overlays (store + guide) */
.overlay{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:grid; place-items:center; z-index:20; }
.overlay.hidden{ display:none; }
.panel{
  width:min(560px,92vw);
  max-height:calc(100svh - 32px);
  overflow:auto; -webkit-overflow-scrolling:touch;
  background:var(--panel);
  border:1px solid #1f2b40; border-radius:14px; padding:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
}
.muted{color:var(--muted)}
.row{display:flex; gap:10px; flex-wrap:wrap; margin:8px 0}
.row.end{justify-content:flex-end; position:sticky; bottom:0; background:var(--panel); padding-top:8px}
button{background:var(--accent); border:none; color:#061019; padding:12px 16px; border-radius:10px; cursor:pointer; font-weight:700}
button:hover{filter:brightness(1.06)}
button.buy{background:#2c3950; color:var(--ink); border:1px solid #3a4f76}
button.buy.afford{background:var(--good); color:#05220a; border:none}
.card{background:#0f1a2b; border:1px solid #1c2a44; border-radius:10px; padding:10px; min-width:220px}
.price{color:#ffe17a; font-weight:700}
ul.guide{line-height:1.5; padding-left:18px}

/* Make sure the whole app respects safe areas (iOS notch) */
body { padding-bottom: var(--safe-bottom); }
